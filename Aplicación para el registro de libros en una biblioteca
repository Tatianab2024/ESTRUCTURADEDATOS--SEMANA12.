using System;
using System.Collections.Generic;

class Biblioteca
{
    // Conjunto de g√©neros (sin duplicados)
    static HashSet<string> generos = new HashSet<string>();

    // Diccionario principal de la biblioteca
    static Dictionary<int, Dictionary<string, object>> biblioteca = new Dictionary<int, Dictionary<string, object>>();

    // M√©todo para registrar un libro
    static void RegistrarLibro(int codigo, string titulo, string autor, int anio, string genero)
    {
        if (biblioteca.ContainsKey(codigo))
        {
            Console.WriteLine("‚ö†Ô∏è El c√≥digo ya existe. No se puede registrar el libro.");
        }
        else
        {
            biblioteca[codigo] = new Dictionary<string, object>()
            {
                {"titulo", titulo},
                {"autor", autor},
                {"anio", anio},
                {"genero", genero}
            };
            generos.Add(genero);
            Console.WriteLine($"‚úÖ Libro '{titulo}' registrado con √©xito.");
        }
    }

    // M√©todo para mostrar todos los libros
    static void MostrarLibros()
    {
        Console.WriteLine("\nüìö Listado de libros en la biblioteca:");
        foreach (var libro in biblioteca)
        {
            Console.WriteLine($"C√≥digo: {libro.Key} | " +
                              $"T√≠tulo: {libro.Value["titulo"]} | " +
                              $"Autor: {libro.Value["autor"]} | " +
                              $"A√±o: {libro.Value["anio"]} | " +
                              $"G√©nero: {libro.Value["genero"]}");
        }
    }

    // M√©todo para consultar un libro por c√≥digo
    static void ConsultarLibro(int codigo)
    {
        if (biblioteca.ContainsKey(codigo))
        {
            Console.WriteLine("\nüîç Informaci√≥n del libro encontrado:");
            foreach (var dato in biblioteca[codigo])
            {
                Console.WriteLine($"{dato.Key}: {dato.Value}");
            }
        }
        else
        {
            Console.WriteLine("‚ùå El libro no est√° registrado.");
        }
    }

    // M√©todo para mostrar los g√©neros disponibles
    static void MostrarGeneros()
    {
        Console.WriteLine("\nüìñ G√©neros disponibles:");
        foreach (var genero in generos)
        {
            Console.WriteLine($"- {genero}");
        }
    }

    // Programa principal
    static void Main(string[] args)
    {
        RegistrarLibro(1, "Cien A√±os de Soledad", "Gabriel Garc√≠a M√°rquez", 1967, "Novela");
        RegistrarLibro(2, "Clean Code", "Robert C. Martin", 2008, "Tecnolog√≠a");
        RegistrarLibro(3, "El Principito", "Antoine de Saint-Exup√©ry", 1943, "Infantil");

        MostrarLibros();
        ConsultarLibro(2);
        MostrarGeneros();
    }
}
